(()=>{function e(e,o,t){return{mount:function(){$(e.root).attr("data-slide-count",e.length),e.Components.Slides.forEach((function(e){var o=e.slideIndex+1;$(e.slide).attr("data-slide-num",o)})),window.innerWidth>=980&&(e.root.addEventListener("mouseenter",(function(){o.AutoScroll.play()})),e.root.addEventListener("mouseleave",(function(){o.AutoScroll.pause()})))}}}const{AutoScroll:o}=window.splide.Extensions;var t=document.getElementsByClassName("splide");if(t.length)for(var i=0;i<t.length;i++){const d=t[i],r=new Splide(t[i],{type:"loop",drag:"free",snap:!0,perPage:6,autoWidth:!0,height:"387px",waitForTransition:!1,pagination:!1,cloneStatus:!1,slideFocus:!1,pauseOnHover:!1,omitEnd:!0,live:!1,updateOnMove:!1,focus:!1,pauseOnFocus:!1,lazyLoad:!1,autoScroll:{speed:.5,pauseOnHover:!1,autoStart:!1},breakpoints:{980:{height:"243px",perPage:4},768:{perPage:1}}});function n(t){window.innerWidth>=980?t.mount({AutoScroll:o,HoverSlider:e}):t.mount({HoverSlider:e})}r.on("drag",(function(){$(".work__item__images").addClass("dragging"),$(".work__item__image").removeClass("hover")})),r.on("dragged",(function(){$(".work__item__images").removeClass("dragging")})),s(),$(window).on("load",(function(){a(d)&&n(r)})),$(window).on("scroll",(function(){r.state.is(Splide.STATES.IDLE)||a(d)&&n(r)})),$(window).on("resize",(function(){r.destroy(),n(r)})),document.querySelectorAll(".work__item__image").forEach((function(e,o){e.addEventListener("mouseenter",(function(){this.classList.add("hover")})),e.addEventListener("mouseleave",(function(){this.classList.remove("hover")}))}))}function a(e){var o=$(e).offset().top,t=o+$(e).outerHeight(),i=$(window).scrollTop(),n=i+$(window).height()+700;return t>i&&o<n}function l(){document.body.classList.remove("flyout-active"),document.querySelectorAll(".work__flyout").forEach((function(e,o){e.classList.remove("work__flyout--active")}))}function s(){document.querySelectorAll(".work__item__video video").forEach((function(e){let o=e.videoWidth,t=e.videoHeight;setTimeout((function(){e.parentElement.style.aspectRatio=o+"/"+t}),1e3)}))}if($(window).on("load",(function(){"true"===function(e){const o=document.cookie.split(";");for(let t=0;t<o.length;t++){const i=o[t].trim();if(i.startsWith(e+"="))return decodeURIComponent(i.substring(e.length+1))}return null}("firstVisit")||$(".coming-soon").length||(!function(e,o,t){const i=new Date;i.setTime(i.getTime()+864e5*t),document.cookie=`${e}=${o};expires=${i.toUTCString()};path=/`}("firstVisit","true",2),$(".icon-loading").length&&($(".icon-loading img").fadeOut(300),$("body").removeClass("loading"))),$(document).on("click",".work__item__video__volume-up",(function(){const e=$(this).prev("video");$(this).removeClass("active"),e[0].muted=!e[0].muted,$(this).next().addClass("active")})),$(document).on("click",".work__item__video__volume-down",(function(){const e=$(this).prev().prev("video");console.log(e),$(this).removeClass("active"),e[0].muted=!e[0].muted,$(this).prev().addClass("active")})),document.querySelectorAll("body.single .work__item__link--more-info a").forEach((function(e,o){e.addEventListener("click",(function(e){e.preventDefault();const o=this.hash;o&&(l(),document.body.classList.add("flyout-active"),document.querySelector(o).classList.add("work__flyout--active"))}))})),document.querySelectorAll(".work__flyout__close").forEach((function(e,o){e.addEventListener("click",l)}))})),$((function(){if($(".modal").length){$(document).on("click tap",".splide__slide",(function(){!function(e){e.find("img").attr("data-src");var o=$(e).attr("id").slice(-2),t=Math.round(100*o)/100;$(".site-container").attr("data-scroll-pos",$(document).scrollTop()),$(".site-container").addClass("modal-active"),e.closest(".splide__list").children().clone().appendTo(".modal__images"),$(".modal__images > *").removeAttr("class"),$(".modal__images > *").attr("class","modal__image"),$(".modal__images"),$(".splide__slide").removeClass("work__item__image--in-view"),$(".modal__image").eq(t-1).addClass("modal__image--active"),e.addClass("work__item__image--in-view"),$(".modal").addClass("modal--active"),$(".modal .modal__image--active video").length&&($(".modal .modal__image--active video")[0].muted=!$(".modal .modal__image--active video")[0].muted)}($(this))})),$(".modal__close").on("click",(function(){i()})),$(document).keyup((function(e){"Escape"===e.key?i():"39"==e.keyCode?o():"37"==e.keyCode&&t()}));var e=new Hammer(document.getElementById("modal"));function o(){var e=$(".modal__image--active");n(),$(".modal__image").removeClass("modal__image--active"),$(e).is(":last-child")?$(".modal__image").first().addClass("modal__image--active"):$(e).next().addClass("modal__image--active"),$(".modal .modal__image--active video").length&&($(".modal .modal__image--active video")[0].muted=!$(".modal .modal__image--active video")[0].muted)}function t(){var e=$(".modal__image--active");n(),$(".modal__image").removeClass("modal__image--active"),$(e).is(":first-child")?$(".modal__image").last().addClass("modal__image--active"):$(e).prev().addClass("modal__image--active"),$(".modal .modal__image--active video")[0].muted=!$(".modal .modal__image--active video")[0].muted}function i(){var e=$(".site-container").attr("data-scroll-pos");n(),$(".site-container").removeClass("modal-active"),$("body,html").animate({scrollTop:e},50),$(".modal").removeClass("modal--active"),$(".modal__images").html("")}function n(){const e=document.querySelectorAll("video"),o=document.querySelectorAll(".work__item__video__volume-up"),t=document.querySelectorAll(".work__item__video__volume-down");e.forEach((e=>{e.muted=!0})),t.forEach((e=>{e.classList.remove("active")})),o.forEach((e=>{e.classList.add("active")}))}e.on("swipeleft",(function(){o()})),e.on("swiperight",(function(){t()})),$(".modal__nav__item--next").on("click",(function(){o()})),$(".modal__nav__item--prev").on("click",(function(){t()})),$(document).on("swiperight",$(".modal--active"),(function(){o()})),$(".modal--active").not(".modal__nav, .modal__image").click((function(){i()}))}})),$((function(){$(".pw-protection__row .c-button").on("click",(function(e){e.preventDefault(),$(".pw-protection__row form").submit()}))})),document.body.classList.contains("single")){document.querySelector("html").style.scrollBehavior="smooth",window.addEventListener("scroll",c),window.addEventListener("load",(function(){document.querySelector(".work-single__column--info").offsetTop;c()})),window.addEventListener("resize",(function(){document.querySelector(".work-single__column--info").offsetTop;c()}));const m=document.querySelector(".work-single__column--info").offsetTop-100;function c(){const e=document.querySelector(".work-single__inner"),o=document.querySelector("footer.footer"),t=document.querySelector(".work-single__nav"),i=o.offsetTop-window.innerHeight;let n=window.scrollY;n>m?e.classList.add("work-single__inner--sticky"):e.classList.remove("work-single__inner--sticky"),n>i?t.classList.add("work-single__nav--not-sticky"):t.classList.remove("work-single__nav--not-sticky")}const _=document.querySelectorAll(".work-single__block"),u=document.querySelectorAll(".work__item__terms a");window.onscroll=()=>{var e="";_.forEach((o=>{const t=o.offsetTop;scrollY>=t+200&&(e=o.getAttribute("data-section"))})),u.forEach((o=>{o.classList.remove("active"),o.classList.contains(e)&&o.classList.add("active")}))}}})();
//# sourceMappingURL=index.js.map
